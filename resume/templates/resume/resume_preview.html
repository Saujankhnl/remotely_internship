<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Preview</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background: #ffffff; color: #333; padding: 40px 50px; line-height: 1.5; }

        /* Professional Template */
        .professional .name { font-size: 26px; font-weight: 700; color: #1a1a2e; margin-bottom: 4px; }
        .professional .headline { font-size: 13px; color: #4F46E5; margin-bottom: 8px; }
        .professional .contact { font-size: 11px; color: #666; margin-bottom: 6px; }
        .professional .links { font-size: 10px; color: #888; margin-bottom: 12px; }
        .professional .divider { border: none; border-top: 1px solid #E5E7EB; margin: 12px 0; }
        .professional .section-title { font-size: 14px; font-weight: 700; color: #1a1a2e; margin: 16px 0 6px; text-transform: uppercase; letter-spacing: 0.5px; }
        .professional .body-text { font-size: 12px; color: #333; line-height: 1.6; margin-bottom: 4px; }
        .professional .sub-title { font-size: 13px; font-weight: 700; color: #333; margin-bottom: 2px; }
        .professional .meta { font-size: 11px; color: #888; margin-bottom: 4px; }
        .professional .entry { margin-bottom: 10px; }

        /* Modern Template */
        .modern .name { font-size: 30px; font-weight: 700; color: #4F46E5; margin-bottom: 4px; }
        .modern .headline { font-size: 14px; color: #374151; margin-bottom: 8px; }
        .modern .contact { font-size: 11px; color: #6B7280; margin-bottom: 6px; }
        .modern .links { font-size: 10px; color: #9CA3AF; margin-bottom: 12px; }
        .modern .divider { border: none; border-top: 2px solid #4F46E5; margin: 12px 0; }
        .modern .section-title { font-size: 14px; font-weight: 700; color: #4F46E5; margin: 18px 0 6px; }
        .modern .body-text { font-size: 12px; color: #333; line-height: 1.6; margin-bottom: 4px; }
        .modern .sub-title { font-size: 13px; font-weight: 700; color: #111827; margin-bottom: 2px; }
        .modern .meta { font-size: 11px; color: #9CA3AF; margin-bottom: 4px; }
        .modern .entry { margin-bottom: 10px; }

        /* Minimal Template */
        .minimal .name { font-size: 24px; font-weight: 700; color: #000; margin-bottom: 2px; }
        .minimal .contact { font-size: 11px; color: #555; margin-bottom: 10px; }
        .minimal .divider { border: none; border-top: 0.5px solid #CCC; margin: 8px 0; }
        .minimal .section-title { font-size: 13px; font-weight: 700; color: #000; margin: 12px 0 4px; }
        .minimal .section-divider { border: none; border-top: 0.5px solid #EEE; margin-bottom: 6px; }
        .minimal .body-text { font-size: 12px; color: #333; line-height: 1.5; margin-bottom: 3px; }
        .minimal .sub-title { font-size: 12px; font-weight: 700; color: #000; margin-bottom: 1px; }
        .minimal .meta { font-size: 11px; color: #777; margin-bottom: 3px; }
        .minimal .entry { margin-bottom: 8px; }

        .skills-tag { display: inline-block; padding: 2px 8px; margin: 2px; border-radius: 4px; font-size: 11px; }
        .professional .skills-tag { background: #F3F4F6; color: #374151; }
        .modern .skills-tag { background: #EEF2FF; color: #4F46E5; }
        .minimal .skills-tag { background: #F9FAFB; color: #333; }
    </style>
</head>
<body>
    <div class="{{ template_name }}">
        <!-- Name -->
        <div class="name">{% if profile and profile.full_name %}{{ profile.full_name }}{% else %}{{ user.username }}{% endif %}</div>

        {% if template_name != 'minimal' %}
        <!-- Headline -->
        {% if profile and profile.headline %}
        <div class="headline">{{ profile.headline }}</div>
        {% endif %}
        {% endif %}

        <!-- Contact -->
        <div class="contact">
            {% if user.email %}{{ user.email }}{% endif %}
            {% if profile and profile.phone %} | {{ profile.phone }}{% endif %}
            {% if profile and profile.location %} | {{ profile.location }}{% endif %}
            {% if template_name == 'minimal' and profile and profile.linkedin %} | {{ profile.linkedin }}{% endif %}
        </div>

        {% if template_name != 'minimal' %}
        <!-- Links -->
        {% if profile and profile.linkedin or profile and profile.github %}
        <div class="links">
            {% if profile.linkedin %}LinkedIn: {{ profile.linkedin }}{% endif %}
            {% if profile.linkedin and profile.github %} | {% endif %}
            {% if profile.github %}GitHub: {{ profile.github }}{% endif %}
        </div>
        {% endif %}
        {% endif %}

        <hr class="divider">

        <!-- Bio/Summary -->
        {% if profile and profile.bio %}
        <div class="section-title">
            {% if template_name == 'professional' %}PROFESSIONAL SUMMARY
            {% elif template_name == 'modern' %}About Me
            {% else %}Summary{% endif %}
        </div>
        {% if template_name == 'minimal' %}<hr class="section-divider">{% endif %}
        <div class="body-text">{{ profile.bio }}</div>
        {% endif %}

        <!-- Skills -->
        {% if profile and profile.skills %}
        <div class="section-title">
            {% if template_name == 'professional' %}SKILLS
            {% elif template_name == 'modern' %}Technical Skills
            {% else %}Skills{% endif %}
        </div>
        {% if template_name == 'minimal' %}<hr class="section-divider">{% endif %}
        <div>
            {% for skill in profile.skills.split:',' %}
            {% if skill.strip %}
            <span class="skills-tag">{{ skill|striptags }}</span>
            {% endif %}
            {% endfor %}
        </div>
        {% endif %}

        <!-- Experience -->
        {% if experiences %}
        <div class="section-title">
            {% if template_name == 'professional' %}EXPERIENCE
            {% elif template_name == 'modern' %}Work Experience
            {% else %}Experience{% endif %}
        </div>
        {% if template_name == 'minimal' %}<hr class="section-divider">{% endif %}
        {% for exp in experiences %}
        <div class="entry">
            <div class="sub-title">
                {{ exp.title }}{% if exp.company_name %}
                {% if template_name == 'professional' %} at {% elif template_name == 'modern' %} | {% else %}, {% endif %}{{ exp.company_name }}{% endif %}
            </div>
            <div class="meta">
                {% if exp.start_date %}{{ exp.start_date|date:"M Y" }}{% endif %}
                {% if exp.is_current %} - Present{% elif exp.end_date %} - {{ exp.end_date|date:"M Y" }}{% endif %}
                {% if exp.location %} | {{ exp.location }}{% endif %}
                {% if exp.employment_type %} | {{ exp.get_employment_type_display }}{% endif %}
            </div>
            {% if exp.description %}
            <div class="body-text">{{ exp.description }}</div>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}

        <!-- Education -->
        {% if educations %}
        <div class="section-title">EDUCATION</div>
        {% if template_name == 'minimal' %}<hr class="section-divider">{% endif %}
        {% for edu in educations %}
        <div class="entry">
            <div class="sub-title">
                {% if edu.degree %}{{ edu.degree }}
                    {% if template_name == 'professional' and edu.field_of_study %} in {{ edu.field_of_study }}
                    {% elif template_name == 'modern' and edu.field_of_study %} &mdash; {{ edu.field_of_study }}
                    {% elif template_name == 'minimal' %} - {{ edu.school }}
                    {% endif %}
                {% else %}{{ edu.school }}{% endif %}
            </div>
            <div class="meta">
                {% if template_name != 'minimal' %}{{ edu.school }}{% endif %}
                {% if edu.start_year and edu.end_year %} | {{ edu.start_year }} - {{ edu.end_year }}
                {% elif edu.end_year %} | {{ edu.end_year }}{% endif %}
            </div>
            {% if edu.description and template_name != 'minimal' %}
            <div class="body-text">{{ edu.description }}</div>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}

        <!-- Projects -->
        {% if projects %}
        <div class="section-title">PROJECTS</div>
        {% if template_name == 'minimal' %}<hr class="section-divider">{% endif %}
        {% for proj in projects %}
        <div class="entry">
            <div class="sub-title">{{ proj.name }}</div>
            {% if proj.technologies and template_name != 'minimal' %}
            <div class="meta">
                {% if template_name == 'professional' %}Technologies: {% else %}Tech: {% endif %}{{ proj.technologies }}
            </div>
            {% endif %}
            {% if proj.description %}
            <div class="body-text">{{ proj.description }}</div>
            {% endif %}
            {% if proj.url and template_name == 'professional' %}
            <div class="meta">URL: {{ proj.url }}</div>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}
    </div>
</body>
</html>
